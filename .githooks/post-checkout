#!/bin/sh

echo "Executing steps after checkout..."

python3 --version >/dev/null 2>&1
RESULT=$?
if [ $RESULT -ne 0 ]; then
  echo "❌ Python 3 is not installed."
  exit $RESULT
fi

if [ -f requirements.txt ]; then
  echo "Installing dependencies from requirements.txt..."
  python3 -m pip install -r requirements.txt
fi

echo "Running syntax check..."
python3 -m compileall -q src tests

echo "✅ Post-checkout checks passed."
