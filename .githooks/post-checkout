#!/bin/sh

echo "Executing steps after checkout..."

# Check Python is installed
python3 --version >/dev/null 2>&1
RESULT=$?
if [ $RESULT -ne 0 ]; then
  echo "âŒ Python 3 is not installed."
  exit $RESULT
fi

echo "ğŸ Python $(python3 --version)"

# Install dependencies from pyproject.toml
if [ -f pyproject.toml ]; then
  echo "ğŸ“¦ Installing dependencies from pyproject.toml..."
  python3 -m pip install -e ".[dev]" --quiet
fi

# Run syntax check
echo "ğŸ” Running syntax check..."
python3 -m compileall -q src tests

echo "âœ… Post-checkout checks passed."
